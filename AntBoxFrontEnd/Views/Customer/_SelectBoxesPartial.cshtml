
@model  AntBoxFrontEnd.Models.AntBoxesViewModel

@{
    ViewData["i"] = 1;
    int rowNo = 1;

    var quantity = Model.Order[1].Quantity;
    var price = Model.Order[1].Price;

    var calculated = quantity * price;


}


<div class="row" id="Precios">
    <div class="col-sm-12">
        <div class="responsive">
            <table class="table shop_table cart">
                <thead>
                    <tr>
                        <th class="product-name">Antboxs</th>
                        <th class="product-price no_mobile">Precio</th>
                        <th class="product-quantity">Cantidad</th>
                        <th class="product-subtotal no_iphone_portrait">Total</th>
                        <!--<th class="product-remove">&nbsp;</th>-->
                    </tr>
                </thead>
                <tbody id="tblBoxes">

                    @foreach (var item in Model.Order)
                    {
                        
                        <tr class="cart_item" >
                            <td class="product-name">
                                <h5> @item.Label </h5>
                                <dl class="variation">
                                    <dt class="variation-Color">Medidas:</dt>
                                    <dd class="variation-Color">
                                        <p> @item.Sizes </p>
                                    </dd>
                                </dl>
                            </td>
                            <td class="product-price no_mobile">
                                <span class="amount"  id='Price_@rowNo'>$  @item.Price </span>
                            </td>
                            <td class="product-quantity">
                                <a href="" class="minus disabled">-</a>
                                <input type="text" id='quantity_@rowNo' value=@item.Quantity  onchange="QuantityChange()">
                                <a href="" class="plus" onclick='AddBox(@rowNo)' >+</a>
                            </td>
                            <td class="product-subtotal no_iphone_portrait">
                                <span class="amount" id=@rowNo>$    @calculated </span>
                            </td>
                            
                        </tr>
                       rowNo++;
                    }

                    <tr>
                        <td class="actions" colspan="6">
                            <div class="coupon pull-right center_iphone_portrait">
                                <input id="coupon_code" class="input-text pb10__iphone_portrait" type="text" placeholder="Código de cupón" value="" name="coupon_code">
                                <input class="btn btn-primary pull-right floatr ml10 center_iphone_portrait" type="submit" value="Aplicar cupón">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row irow-xs cart-collaterals mt0">
            <div class="col-md-5 col-sm-6">
            </div>
            <div class="col-md-offset-1 col-sm-6 cart_totals">
                <table class="table">
                    <tbody>
                        <tr class="cart-subtotal">
                            <th>Descuento</th>
                            <td>
                                <span class="amount">$ @Html.DisplayTextFor(o => o.Discount)</span>
                            </td>
                        </tr>
                        <tr class="cart-subtotal">
                            <th>Subtotal</th>
                            <td>
                                <span class="amount">$ @Html.DisplayTextFor(o => o.Subtotal)</span>
                            </td>
                        </tr>
                        <tr class="shipping">
                            <th>+ IVA</th>
                            <td>
                                <span class="amount">$ @Html.DisplayTextFor(o => o.Iva)</span>
                            </td>
                        </tr>
                        <tr class="order-total">
                            <th>Total</th>
                            <td>
                                <strong>
                                    <span class="amount">$ @Html.DisplayTextFor( o=> o.Total) </span>
                                </strong>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

    
<script type="text/javascript">
    function AddBox(ide) {
            
        alert("Entro la accion " + ide);

        var p = '#Price_' + ide;
        var q = '#quantity_' + ide;
        alert(p + " " + q);

        var price = $(p).val;
        var quantity = $(q).val;
        
        alert(price);
        alert(quantity);

        lineSub = price * quantity;

        alert(lineSub);

        var ii = '#' + ide;

        $(ii).val = lineSub;

        

    }

    var CartLine = function () {
        var self = this;

        

    }

</script>
    


<script type="text/javascript">
    function QuantityChange() {
        alert("Entro al on change");



    }



</script>
